# Организация локальной сети
<p><strong>Task:</strong><br />Для защиты лабораторных работ по дисциплине Локально-вычислительные сети в виртуальной машине Ubuntu настроил программу для проектирования сетей Packet Tracer, спроектрировал лабораторные работы по темам "Использование DHCP-протокола через маршрутизатор и через сервер", "Wi-Fi - беспроводная передача данных", а также по теме "Локальная сеть" развернул виртуальные машины в Virtualbox две операционные системы Windows 10 и Windows Server 2012 для настройки локальной сети. В Windows Server установил DHCP и DNS сервера и добавил в домен клиентского компьютера Windows 10.<br /><strong>Task:</strong><br />Packet Tracer Install Ubuntu 20.04<br /><strong>Decision:</strong><br />$ sudo virsh start ubuntu22.04<br />$ ssh -X user@IpAddrUbuntu<br />$ google-chrome https://www.google.ru/search?q=cisco+account+create&amp;newwindow=1&amp;source=hp&amp;ei=Z8eqYdOSEcTIrgSIwIeQDQ&amp;iflsig=ALs-wAMAAAAAYarVd9Qob1A5NSTfBETDiQsuP3G5I7gv&amp;ved=0ahUKEwiT4p6Jgsn0AhVEpIsKHQjgAdIQ4dUDCAY&amp;uact=5&amp;oq=cisco+account+create&amp;gs_lcp=Cgdnd3Mtd2l6EAMyBQgAEIAEMgUIABCABDIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjIGCAAQFhAeMgYIABAWEB5QAFgAYPgEaABwAHgAgAGBAYgBgQGSAQMwLjGYAQCgAQKgAQE&amp;sclient=gws-wiz &amp;<br />$ google-chrome https://id.cisco.com/signin/register &amp;<br />$ google-chrome https://temp-mail.org/ &amp;<br />xanaveb196@simdpi.com - https://id.cisco.com/signin/register - mail: xanaveb196@simdpi.com - https://temp-mail.org/ - <br />Активировать Аккаунт - https://id.cisco.com/signin/register - xanaveb196@simdpi.com<br />$ google-chrome https://www.google.ru/search?q=netacad+introduction+to+packet+tracer&amp;newwindow=1&amp;ei=Ks-qYZugA5a_rgTF_beoDw&amp;oq=netacad+into+to+pa&amp;gs_lcp=Cgdnd3Mtd2l6EAMYAjIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjoHCAAQRxCwAzoNCC4QxwEQ0QMQsAMQQzoHCAAQsAMQQzoFCAAQgAQ6BQghEKABOgUIABDNAkoFCDwSATJKBAhBGABKBAhGGABQ96cZWMXDGWC44RloAnACeACAAZwBiAHGCpIBBDAuMTCYAQCgAQHIAQrAAQE&amp;sclient=gws-wiz &amp;<br />$ google-chrome https://www.netacad.com/portal/resources/packet-tracer &amp;<br />$ wget https://www.netacad.com/portal/resources/file/71b29477-0abb-4a52-97eb-cc23d5771574<br />$ ls<br />CiscoPacketTracer_821_Ubuntu_64bit.deb<br />$ sudo dpkg -i CiscoPacketTracer_821_Ubuntu_64bit.deb<br />...<br />dpkg: error processing package packettracer (--install):<br />&nbsp;dependency problems - leaving unconfigured<br />...<br />Errors were encountered while processing:<br />&nbsp;packettracer<br />$ sudo apt install -f<br />$ sudo dpkg -i CiscoPacketTracer_821_Ubuntu_64bit.deb<br />$ packettracer &amp;<br /><strong>Task:</strong><br />The simplest network<br />Для организации простейшей сети потребуется Два компьютера и Патч-корд. В случае отсутствия патч-корда<br />необходимы: Кусок витой пары, Два коннектора RJ45.<br /><strong>Decision:</strong><br />end devices - PC0 - PC1 - connections - copper cross-cover - PC0 - Desktop - ip configuration - ipv4 - 192.168.1.1 - subnet mask - 255.255.255.0 - PC1 - Desktop - ip configuration - ipv4 - 192.168.1.2 - subnet mask - 255.255.255.0 - PC0 - Desktop - Command Prompt<br />C:\&gt;ping 192.168.1.2<br />&nbsp;&nbsp;&nbsp; Pinging 192.168.1.2 with 32 bytes of data:<br />&nbsp;&nbsp;&nbsp; Reply from 192.168.1.2: bytes=32 time&lt;1ms TTL=128<br />&nbsp;&nbsp;&nbsp; Reply from 192.168.1.2: bytes=32 time&lt;1ms TTL=128<br />&nbsp;&nbsp;&nbsp; Reply from 192.168.1.2: bytes=32 time&lt;1ms TTL=128<br />&nbsp;&nbsp;&nbsp; Reply from 192.168.1.2: bytes=32 time&lt;1ms TTL=128<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.1.2:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 0ms, Maximum = 0ms, Average = 0ms<br /><strong>Task:</strong><br />Используем DHCP-протокол через маршрутизатор: We have one switch and router and several computers, Create a DHCP pool (some kind of ip address space), Exclude certain ip addresses, Настроить компьютеры (Убедимся, что ip адреса автоматически добавляются), Проверить связь, See which computers and which ip addresses were issued, Настроим порты, задать VLAN 2,3 на порты fa0/1,2,3,4, The vlan needs to be pushed to the router, Configure the router's sub-interface for 2,3,4 vlans, Configure the DHCP Server. The Dhcp server is located in a separate segment and a broadcast request from computers 3,4,5,6 in the search for a Dhcp server, the router will not pass. Since the computers are in different segments. It is necessary to forward computer requests to the Dhcp server<br /><strong>Decision:</strong><br />Switch -2960 - PC0 - PC1 - PC2 - Router0 - 1841 - Copper Straight-Through - Router0 - CLI<br />Router&gt;en<br />Router#conf t<br />&nbsp;&nbsp;&nbsp; Enter configuration commands, one per line.&nbsp; End with CNTL/Z.<br />Router(config)#int fa0/0<br />Router(config-if)#no sh<br />Router(config-if)#no shutdown<br />Router(config-if)#<br />&nbsp;&nbsp;&nbsp; %LINK-5-CHANGED: Interface FastEthernet0/0, changed state to up<br />&nbsp;&nbsp;&nbsp; %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/0, changed state to up<br />Router(config-if)#ip add<br />Router(config-if)#ip address 192.168.1.1 255.255.255.0<br />Router(config-if)#exit<br />Router(config)#ip dhcp pool DHCP<br />Router(dhcp-config)#network 192.168.1.0 255.255.255.0<br />Router(dhcp-config)#defa<br />Router(dhcp-config)#default-router 192.168.1.1<br />Router(dhcp-config)#dns-server 8.8.8.8<br />Router(dhcp-config)#exit<br />Router(config)#ip dhcp&nbsp; excluded-address 192.168.1.100<br />Router(config)#ip dhcp&nbsp; excluded-address 192.168.1.1<br />Router(config)#exit<br />Router#wr mem<br />PC0,1,2 - Desktop - ip configuration - +DHCP - PC0 - Desktop - command prompt<br />C:\&gt;ping 192.168.1.1<br />...<br />Ping statistics for 192.168.1.1:<br />&nbsp;&nbsp; &nbsp;Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp; &nbsp;Minimum = 0ms, Maximum = 11ms, Average = 2ms<br />C:\&gt;ping 192.168.1.3<br />...<br />Ping statistics for 192.168.1.3:<br />&nbsp;&nbsp; &nbsp;Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp; &nbsp;Minimum = 0ms, Maximum = 1ms, Average = 0ms<br />C:\&gt;ping 192.168.1.4<br />...<br />Ping statistics for 192.168.1.4:<br />&nbsp;&nbsp; &nbsp;Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp; &nbsp;Minimum = 0ms, Maximum = 0ms, Average = 0ms<br />Router0 - CLI<br />Router#show ip dhcp binding<br />IP address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Client-ID/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lease expiration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Type<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Hardware address<br />192.168.1.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0090.21EC.999A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Automatic<br />192.168.1.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0060.3E23.49DD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Automatic<br />192.168.1.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0010.1109.2ACD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Automatic<br /><strong>Task:</strong><br />Используем DHCP-протокол через сервер: We have 3 different network segments (Vlan2,3,4) and a dedicated dhcp server, Segmenting our network, Create a VLAN, <br /><strong>Decision:</strong><br />Switch - 2960 - PC3,4,5 - Router1 - 1841 - Sever0 - Copper Straight-Through - switch1 - cli<br />Switch&gt;en<br />Switch#conf t<br />Switch(config)#vlan 2<br />Switch(config-vlan)#name VLAN2<br />Switch(config-vlan)#exit<br />Switch(config)#vlan 3<br />Switch(config-vlan)#name VLAN3<br />Switch(config-vlan)#exit<br />Switch(config)#vlan 4<br />Switch(config-vlan)#name DHCP<br />Switch(config-vlan)#exit<br />Switch(config)#int range fa<br />Switch(config)#int range fastEthernet 0/1-2<br />Switch(config-if-range)#swi<br />Switch(config-if-range)#switchport mode<br />Switch(config-if-range)#switchport mode acc<br />Switch(config-if-range)#switchport mode access<br />Switch(config-if-range)#swi<br />Switch(config-if-range)#switchport acc<br />Switch(config-if-range)#switchport access vla<br />Switch(config-if-range)#switchport access vlan 2<br />Switch(config-if-range)#exit<br />Switch(config)#int range fastEthernet 0/3-4<br />Switch(config-if-range)#switchport mode access<br />Switch(config-if-range)#switchport access vlan 3<br />Switch(config-if-range)#exit<br />Switch(config)#int range fastEthernet 0/5<br />Switch(config-if-range)#switchport mode access<br />Switch(config-if-range)#switchport access vlan 4<br />Switch(config-if-range)#exit<br />Switch(config)#int fa<br />Switch(config)#int fastEthernet 0/6<br />Switch(config-if)#switchport mode trunk<br />Switch(config-if)#swi<br />Switch(config-if)#switchport tr<br />Switch(config-if)#switchport trunk all<br />Switch(config-if)#switchport trunk allowed vla<br />Switch(config-if)#switchport trunk allowed vlan 2,3,4<br />Switch(config-if)#exit<br />Switch(config)#end<br />Switch#wr mem<br />Switch#show run<br />&nbsp;&nbsp;&nbsp; Building configuration...<br />&nbsp;&nbsp;&nbsp; Current configuration : 1388 bytes<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; version 15.0<br />&nbsp;&nbsp;&nbsp; no service timestamps log datetime msec<br />&nbsp;&nbsp;&nbsp; no service timestamps debug datetime msec<br />&nbsp;&nbsp;&nbsp; no service password-encryption<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; hostname Switch<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; spanning-tree mode pvst<br />&nbsp;&nbsp;&nbsp; spanning-tree extend system-id<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/1<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 2<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/2<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 2<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/3<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 3<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/4<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 3<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/5<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 4<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/6<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport trunk allowed vlan 2-4<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode trunk<br />router1 - cli<br />Router&gt;en<br />Router#conf t<br />Router(config)#int g<br />Router(config)#int gigabitEthernet 0/0.2<br />Router(config-subif)#enc<br />Router(config-subif)#encapsulation do<br />Router(config-subif)#encapsulation dot1Q 2<br />Router(config-subif)#ip<br />Router(config-subif)#ip add<br />Router(config-subif)#ip address 192.168.2.1 255.255.255.0<br />Router(config-subif)#no sh<br />Router(config-subif)#no shutdown<br />Router(config-subif)#exit<br />Router(config)#int gigabitEthernet 0/0<br />Router(config-if)#no shutdown<br />Router(config-if)#<br />&nbsp;&nbsp;&nbsp; %LINK-5-CHANGED: Interface GigabitEthernet0/0, changed state to up<br />&nbsp;&nbsp;&nbsp; %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0, changed state to up<br />&nbsp;&nbsp;&nbsp; %LINK-5-CHANGED: Interface GigabitEthernet0/0.2, changed state to up<br />&nbsp;&nbsp;&nbsp; %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0.2, changed state to up<br />Router(config-if)#exit<br />Router(config)#int gigabitEthernet 0/0.3<br />Router(config-subif)#<br />&nbsp;&nbsp;&nbsp; %LINK-5-CHANGED: Interface GigabitEthernet0/0.3, changed state to up<br />&nbsp;&nbsp;&nbsp; %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0.3, changed state to up<br />Router(config-subif)#encapsulation dot1Q 3<br />Router(config-subif)#ip address 192.168.3.1 255.255.255.0<br />Router(config-subif)#no shutdown<br />Router(config-subif)#exit<br />Router(config)#int gigabitEthernet 0/0.4<br />Router(config-subif)#<br />&nbsp;&nbsp;&nbsp; %LINK-5-CHANGED: Interface GigabitEthernet0/0.4, changed state to up<br />&nbsp;&nbsp;&nbsp; %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0.4, changed state to up<br />Router(config-subif)#encapsulation dot1Q 4<br />Router(config-subif)#ip address 192.168.4.1 255.255.255.0<br />Router(config-subif)#no shutdown<br />Router(config-subif)#end<br />Router#<br />Router#wr mem<br />Router#show run<br />&nbsp;&nbsp;&nbsp; Building configuration...<br />&nbsp;&nbsp;&nbsp; Current configuration : 882 bytes<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; version 15.1<br />&nbsp;&nbsp;&nbsp; no service timestamps log datetime msec<br />&nbsp;&nbsp;&nbsp; no service timestamps debug datetime msec<br />&nbsp;&nbsp;&nbsp; no service password-encryption<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; hostname Router<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; ip cef<br />&nbsp;&nbsp;&nbsp; no ipv6 cef<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; license udi pid CISCO2901/K9 sn FTX1524I7AI-<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; spanning-tree mode pvst<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface GigabitEthernet0/0<br />&nbsp;&nbsp;&nbsp;&nbsp; no ip address<br />&nbsp;&nbsp;&nbsp;&nbsp; duplex auto<br />&nbsp;&nbsp;&nbsp;&nbsp; speed auto<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface GigabitEthernet0/0.2<br />&nbsp;&nbsp;&nbsp;&nbsp; encapsulation dot1Q 2<br />&nbsp;&nbsp;&nbsp;&nbsp; ip address 192.168.2.1 255.255.255.0<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface GigabitEthernet0/0.3<br />&nbsp;&nbsp;&nbsp;&nbsp; encapsulation dot1Q 3<br />&nbsp;&nbsp;&nbsp;&nbsp; ip address 192.168.3.1 255.255.255.0<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface GigabitEthernet0/0.4<br />&nbsp;&nbsp;&nbsp;&nbsp; encapsulation dot1Q 4<br />&nbsp;&nbsp;&nbsp;&nbsp; ip address 192.168.4.1 255.255.255.0<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface GigabitEthernet0/1<br />&nbsp;&nbsp;&nbsp;&nbsp; no ip address<br />&nbsp;&nbsp;&nbsp;&nbsp; duplex auto<br />&nbsp;&nbsp;&nbsp;&nbsp; speed auto<br />&nbsp;&nbsp;&nbsp;&nbsp; shutdown<br />&nbsp;&nbsp;&nbsp; !<br />server0 - dekstop - ip configuration - ip address 192.168.4.2 - subnet mask 255.255.255.0 - default gateway 192.168.4.1 - command prompt<br />C:\&gt;ping 192.168.4.1<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.4.1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 0ms, Maximum = 6ms, Average = 1ms<br />&nbsp;&nbsp;&nbsp; services - dhcp - убеждаемся, что видим один дефолтный server pool - pool name DCHP-VLAN2 - start ip address 192.168.2.0 - default gateway 192.168.2.1 - dns server - 8.8.8.8 - service +On - Add - тоже самое для 3тьего vlan<br />Router1 - ClI<br />Router&gt;en<br />Router#conf t<br />Router(config)#int g<br />Router(config)#int gigabitEthernet 0/0.2<br />Router(config-subif)#ip hel<br />Router(config-subif)#ip help<br />Router(config-subif)#ip helper-address 192.168.4.2<br />Router(config-subif)#exit<br />Router(config)#int gigabitEthernet 0/0.3<br />Router(config-subif)#ip helper-address 192.168.4.2<br />Router(config-subif)#end<br />Router#wr mem<br />PC3,4,5,6 - desktop - ip configuration - +dhcp - Убеждаемтся в том, что dhcp автоматически раздал адреса - PC6 - command prompt<br />C:\&gt;ping 192.168.3.1<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.3.1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 0ms, Maximum = 2ms, Average = 1ms<br />C:\&gt;ping 192.168.2.2<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.2.2:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 3, Lost = 1 (25% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 0ms, Maximum = 1ms, Average = 0ms<br /><strong>Task:</strong><br />Wifi: setting up a Wi fi router, Add a custom device laptop, add another stationary computer. assume that the organization already has some kind of network. we need to deploy wi-fi to our organization. we have a guest room of the organization. make sure that the wi-fi network is in a separate segment. On the port that connects to our router1 router, you need to add this vlan4 to trunkport. We need to create a sub interface on our router. Set the possibility to distribute addresses. Add some kind of wireless device, that is, let's assume that a client of the organization came to us and he has a laptop that wants to connect to wifi. Что получить ноутбуку ip адрес wifi нужно определить точку доступа к vlan.<br />Необходимо донастроить nat.&nbsp;&nbsp; &nbsp;<br /><strong>Decision:</strong><br />Router0-CLI<br />Router&gt;en<br />Router#conf t<br />Router(config)#int fa<br />Router(config)#int fastEthernet 0/0<br />Router(config-if)#ip add<br />Router(config-if)#ip address 210.210.0.1 255.255.255.252<br />Router(config-if)#no sh<br />Router(config-if)#no shutdown<br />Router(config-if)#<br />&nbsp;&nbsp;&nbsp; %LINK-5-CHANGED: Interface FastEthernet0/0, changed state to up<br />&nbsp;&nbsp;&nbsp; %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/0, changed state to up<br />Router(config-if)#end<br />Router#wr mem<br />Wireless router 0 - gui - static ip - ip address: 210.210.0.2 - subnet mask: 255.255.255.252 - gateway: 210.210.0.1 - save setting - wireless - network name ssid: netskills-home - save setting - wireless security - wpa2 personal - passphase: ciscocisco - save setting<br />lalptop0 - выключаем - убираем (перетаскиваем) подключенный сетевой модуль - заместо него wrc300n - включаем ноутбук - desktop - pc wireless - connect - refresh - netskills-home - connect - pre-shared key - ciscocisco - command promprt<br />C:\&gt;ipconfig<br />&nbsp;&nbsp;&nbsp; Bluetooth Connection:(default port)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Connection-specific DNS Suffix..:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Link-local IPv6 Address.........: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IPv6 Address....................: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IPv4 Address....................: 0.0.0.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Subnet Mask.....................: 0.0.0.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default Gateway.................: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0<br />&nbsp;&nbsp;&nbsp; Wireless0 Connection:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Connection-specific DNS Suffix..:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Link-local IPv6 Address.........: FE80::202:4AFF:FE66:D186<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IPv6 Address....................: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IPv4 Address....................: 192.168.0.100<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Subnet Mask.....................: 255.255.255.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default Gateway.................: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 192.168.0.1<br />C:\&gt;ping 192.168.0.1<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.0.1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 23ms, Maximum = 122ms, Average = 56ms<br />C:\&gt;ping 210.210.0.1<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 210.210.0.1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 3, Lost = 1 (25% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 17ms, Maximum = 32ms, Average = 26ms<br />pc0 - ip conf - dbhcp - command prompt<br />C:\&gt;ping 192.168.0.1<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.0.1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 0ms, Maximum = 1ms, Average = 0ms<br />C:\&gt;ping 210.210.0.1<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 210.210.0.1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 0ms, Maximum = 1ms, Average = 0ms<br />C:\&gt;ping 192.168.0.100<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.0.100:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 11ms, Maximum = 158ms, Average = 62ms<br />Switch0 - CLI<br />Switch&gt;en<br />Switch#show run<br />&nbsp;&nbsp;&nbsp; Building configuration...<br />&nbsp;&nbsp;&nbsp; Current configuration : 1436 bytes<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; version 12.2<br />&nbsp;&nbsp;&nbsp; no service timestamps log datetime msec<br />&nbsp;&nbsp;&nbsp; no service timestamps debug datetime msec<br />&nbsp;&nbsp;&nbsp; no service password-encryption<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; hostname Switch<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; spanning-tree mode pvst<br />&nbsp;&nbsp;&nbsp; spanning-tree extend system-id<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/1<br />&nbsp;&nbsp;&nbsp;&nbsp; description ToRouter<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport trunk allowed vlan 2-4<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode trunk<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/2<br />&nbsp;&nbsp;&nbsp;&nbsp; description Users<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 2<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/3<br />&nbsp;&nbsp;&nbsp;&nbsp; description Users<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 2<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/4<br />&nbsp;&nbsp;&nbsp;&nbsp; description srv<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 3<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/5<br />&nbsp;&nbsp;&nbsp;&nbsp; description WiFi-AP<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 4<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/6<br />&nbsp;&nbsp;&nbsp; !<br /><br />&nbsp;&nbsp;&nbsp; router1-cli<br />Switch&gt;en<br />Switch#show run<br />&nbsp;&nbsp;&nbsp; Building configuration...<br />&nbsp;&nbsp;&nbsp; Current configuration : 1436 bytes<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; version 12.2<br />&nbsp;&nbsp;&nbsp; no service timestamps log datetime msec<br />&nbsp;&nbsp;&nbsp; no service timestamps debug datetime msec<br />&nbsp;&nbsp;&nbsp; no service password-encryption<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; hostname Switch<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; spanning-tree mode pvst<br />&nbsp;&nbsp;&nbsp; spanning-tree extend system-id<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/1<br />&nbsp;&nbsp;&nbsp;&nbsp; description ToRouter<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport trunk allowed vlan 2-4<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode trunk<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/2<br />&nbsp;&nbsp;&nbsp;&nbsp; description Users<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 2<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/3<br />&nbsp;&nbsp;&nbsp;&nbsp; description Users<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 2<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/4<br />&nbsp;&nbsp;&nbsp;&nbsp; description srv<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 3<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/5<br />&nbsp;&nbsp;&nbsp;&nbsp; description WiFi-AP<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport access vlan 4<br />&nbsp;&nbsp;&nbsp;&nbsp; switchport mode access<br />&nbsp;&nbsp;&nbsp; !<br />&nbsp;&nbsp;&nbsp; interface FastEthernet0/6<br />&nbsp;&nbsp;&nbsp; !<br />access point0 - config - port1 - ssid: netskill - wpa2-psk - pass phrase: ciscocisco<br />switch-cli<br />#en<br /># conf t<br /># vlan 4<br /># name wifi<br /># end<br />#show run<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; switchport trunk allowed vlan 2-4<br />router1 - cli<br />#en<br /># conf t<br /># int fa0/1.4<br /># encapsulation dot1Q 4<br /># ip address 192.168.4.1 255.255.255.0<br /># no shutdown<br /># end<br /># conf t<br /># ip dhcp pool Wifi-pool<br /># network 192.168.4.0 255.255.255.0<br /># default-router 192.168.4.1<br /># exit<br /># ip dhcp excluded-address 192.168.4.1<br /># end<br /># wr mem<br />Laptop1 - выключаем - убираем (перетаскиваем) подключенный сетевой модуль - заместо него wrc300n - включаем ноутбук - desktop - pc wireless - connect - refresh - netskills - save setting - wireless security - wpa2 personal - passphase: ciscocisco - save setting - command prompt<br />switch0-cli<br />#en<br /># conf t<br /># switchport mode access<br /># switchport access vlan 4<br /># description WiFi-AP<br /># end<br /># wr mem<br />Router1-cli<br /># en<br /># conf t<br /># ip access-list standart FOR-NAT<br /># permit 192.168.4.0&nbsp; 0.0.0.255<br /># exit<br /># int fa0/1.4<br /># ip nat inside<br /># end<br /># wr mem<br />lalptop1 - ip configuration - dhcp - ok - command prompt<br />C:\&gt;ipconfig<br />&nbsp;&nbsp;&nbsp; Bluetooth Connection:(default port)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Connection-specific DNS Suffix..:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Link-local IPv6 Address.........: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IPv6 Address....................: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IPv4 Address....................: 0.0.0.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Subnet Mask.....................: 0.0.0.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default Gateway.................: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0<br />&nbsp;&nbsp;&nbsp; Wireless0 Connection:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Connection-specific DNS Suffix..:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Link-local IPv6 Address.........: FE80::203:E4FF:FE34:D1E7<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IPv6 Address....................: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IPv4 Address....................: 192.168.4.2<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Subnet Mask.....................: 255.255.255.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default Gateway.................: ::<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 192.168.4.1<br />C:\&gt;ping 192.168.4.1<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.4.1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 48ms, Maximum = 171ms, Average = 96ms<br />C:\&gt;ping 192.168.2.3<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 192.168.2.3:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 3, Lost = 1 (25% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 27ms, Maximum = 60ms, Average = 39ms<br />C:\&gt;ping 210.210.0.1<br />&nbsp;&nbsp;&nbsp; ...<br />&nbsp;&nbsp;&nbsp; Ping statistics for 210.210.0.1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),<br />&nbsp;&nbsp;&nbsp; Approximate round trip times in milli-seconds:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum = 38ms, Maximum = 69ms, Average = 52ms<br /><strong>Task:</strong><br />Install VirtualBox<br /><strong>Decision:</strong><br />$ sudo dnf config-manager --add-repo=https://download.virtualbox.org/virtualbox/rpm/el/virtualbox.repo<br />$ sudo rpm --import https://www.virtualbox.org/download/oracle_vbox.asc<br />$ sudo dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm<br />$ sudo dnf install binutils kernel-devel kernel-headers libgomp make patch gcc glibc-headers glibc-devel dkm<br />$ sudo dnf search virtualbox<br />$ sudo dnf install VirtualBox-7.0<br />$ sudo usermod -aG vboxusers $USER<br />$ newgrp vboxusers<br />$ wget https://download.virtualbox.org/virtualbox/7.0.10/Oracle_VM_VirtualBox_Extension_Pack-7.0.10-158379.vbox-extpack<br />$ sudo VBoxManage extpack install Oracle_VM_VirtualBox_Extension_Pack-7.0.10-158379.vbox-extpack<br /><strong>Task:</strong><br />Использовать Virtualbox<br /><strong>Decision:</strong><br />$ VBoxManage list ostypes<br />...<br />ID:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Windows2012_64<br />Description: Windows 2012 (64-bit)<br />Family ID:&nbsp;&nbsp; Windows<br />Family Desc: Microsoft Windows<br />64 bit:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true<br />...<br />$ VBoxManage createvm --name "Windows2012" --ostype "Windows2012_64" --register --basefolder /vboximages/<br />$ vboxmanage modifyvm Windows2012 --memory 2048 --vram 128<br />$ vboxmanage modifyvm Windows2012 --nic1 bridged<br />$ vboxmanage createhd --filename /vboximages/Windows2012/Windows2012_DISK.vdi --size 75000 --format VDI <br />$ vboxmanage storagectl Windows2012 --name "SATA Controller" --add sata --controller IntelAhci<br />$ vboxmanage storageattach Windows2012 --storagectl "SATA Controller" --port 0 --device 0 --type hdd --medium /vboximages/Windows2012/Windows2012_DISK.vdi<br />$ vboxmanage storagectl Windows2012 --name "IDE Controller" --add ide --controller PIIX4<br />$ vboxmanage storageattach Windows2012 --storagectl "IDE Controller" --port 1 --device 0 --type dvddrive --medium /iso/Server2012.iso<br />$ vboxmanage modifyvm Windows2012 --boot1 dvd --boot2 disk --boot3 none --boot4 none<br />$ vboxmanage modifyvm Windows2012 --vrde on<br />$ vboxmanage modifyvm Windows2012 --vrdemulticon on --vrdeport 10001<br />$ vboxmanage modifyvm Windows2012 --graphicscontroller vboxsvga<br />$ vboxmanage sharedfolder add Windows2012 --name "Загрузки" --hostpath /Загрузки/ --automount<br />$ vboxmanage startvm --type gui Windows2012 &amp;<br /><strong>Task:</strong><br />Установить DHCP и DNS сервера, добавить в домен клиентского компьютера, и проверить их работоспособность. Делать это все мы будем в виртуальной машине KVM с установленными операционными системами Windows Server 2019 и Windows 10. В KVM когда настраиваем сеть операционных систем, нужно подключить внутреннюю сеть и в неразборчивом режиме разрешить все. После чего для настройки сервера запускаем Windows Server 2019<br /><strong>Decision:</strong><br />Диспетчер серверов - Локальная сеть - ipv4 - уберем галочку ipv6 - нажмем на ipv4 - настроить - прописать адреса: <br />ip-адрес 192.168.0.1<br />маска подсети 255.255.255.0<br />Основной шлюз 192.168.0.1<br />Предпочитаемый Днс-сервер 8.8.8.8<br />Диспетчер серверов - Локальная сеть - имя компьютера - изменить (например, Server) - перезагрузиться<br />Диспетчер серверов - Локальная сеть - управление - добавить роли и компоненты - тип установки - установка ролей и компонентов - выбор сервера - видим наш сервер (Server) и выбираем его - роли сервера ставим флажок на DNS-сервер и доменные службы Active Directory - компоненты - Windows Powershell - подтверждаем - ставим галочку на автоматический перезапуск - устанавливаем - Диспетчер серверов - Локальная сеть - видим восклицательный знак - повысить роли и компоненты - в конфигурации развертывания добавить новый лес - даем имя корневого раздела (на моем примере - server.local) - придумываем пароль, имя домена - устанавливаем<br />Диспетчер серверов - Локальная сеть - Средства - DNS - в зоне обратного просмотра правой кнопкой мыши создаем новую зону - добавляем идентификатор сети 192.168.0. <br />Сеть и интернет - центр управления сетями - дополнительные параметры - +включить сетевые обнаружения - +включить общий доступ к файлам и принтерам - вернемся обратно и снова зайдем в дополнительные парметры, увидиим что сохранения не изменинились. Для этого нужно зайти в диспетчер задач - службы - находим Публикация ресурсов обнаружения функции, Обнаружение SSDP - тип запуска у всех Автоматически - запускаем - Сеть и интернет - центр управления сетями - дополнительные параметры - оставляем флажки на "включить сетевые обнаружения" и "включить общий доступ к файлам и принтерам"<br />Диспетчер серверов - Локальная сеть - Управление - добавить роли и компоненты - тип установки - установка ролей и компонентов - роли сервера - добавим флажок на DHCP-сервер - подтверждаем - ставим галочку на автоматический перезапуск - устанавливаем - по восклицательному знаку в разделе Локальная сеть - настраиваем DHCP - имя пользователя - добавляем то самое имя учетной записи, с которой мы все это настраиваем (в моем случае - Администратор) - фиксируем <br />Диспетчер серверов - Локальная сеть - средства - DHCP - IPv4 правой кнопкой мыши создаем область - пишем имя области (в моем случае - Server) - добавляем диапозон айпи адресов и маску:<br />Начальный IP адрес 192.168.0.10<br />Конечный IP адрес 192.168.0.20<br />Длина 24<br />маска подсети 255.255.255.0<br />срок действия аренды я выбрал 7 дней - добавляем айпи адрес маршрутизатора 192.168.0.1. В DHCP - IPv4 - область 192.168.0.0 - пул ардесов - должна появиться инфа по DHCP<br />панельуправлени - система безопасности - брандмауер - включение и отключение брандмауера<br />$ sudo virsh start Windows<br />$ virt-viewer --connect qemu:///system --wait Windows<br />свойства компьютера - изменить настройки,изменить - ставим флажок на добавление домена - вводим в домен (в моем случае это server.local) - вводим данные сервера (имя и пароль учетки сервера) - После перезагрузки можем спокойно работать в домене.<br /><strong>Task:</strong><br />Перенос виртуальной машины VirtualBox в KVM<br /><strong>Decision:</strong><br />$ vboxmanage list hdds<br />UUID:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 90d93e42-c567-4ff4-8ab8-5a21971604dc<br />Parent UUID:&nbsp;&nbsp;&nbsp; base<br />State:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; created<br />Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; normal (base)<br />Location:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /vboximages/Windows2012/Windows2012_DISK.vdi<br />Storage format: VDI<br />Capacity:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 75000 MBytes<br />Encryption:&nbsp;&nbsp;&nbsp;&nbsp; disabled<br />$ VBoxManage clonehd /vboximages/Windows2012/Snapshots/\{41cf81da-b2f5-4dfe-9afb-e5c0d5f0d301\}.vdi /vboximages/Windows2012/Windows12static.vdi --format VDI --variant Fixed<br />$ sudo qemu-img convert -f vdi /vboximages/Windows2012/Windows12static.vdi -O qcow2 /images/Windows12.qcow2<br />$ sudo virt-install --osinfo list<br />...<br />win2k12r2<br />...<br />$ sudo virt-install \<br />--name Windows12 \<br />--ram 2048 \<br />--vcpus=2 \<br />--import \<br />--disk path=/images/Windows12.qcow2,format=qcow2 \<br />--vnc \<br />--noautoconsole \<br />--os-variant win2k12r2 \<br />--accelerate \<br />--network bridge=br0<br />$ virt-viewer --connect qemu:///system --wait Windows12<br /><strong>Decision:</strong><br />Вернемся к серверу - меню пуск - администрирование - DHCP-сервер - IPv4 - область - арендованные адреса видим наш клиентский компьютер<br />$ sudo virsh shutdown Windows<br />$ vboxmanage controlvm Windows12 poweroff soft<br /><strong>Source:</strong></p>
                        <ul>
                        <li><a href="https://www.youtube.com/watch?v=04VpVYO7F78">https://www.youtube.com/watch?v=04VpVYO7F78</a></li>
                        <li><a href="https://www.youtube.com/watch?v=kg5CalaPOLA">https://www.youtube.com/watch?v=kg5CalaPOLA</a></li>
                        <li><a href="https://www.youtube.com/playlist?list=PLcDkQ2Au8aVNYsqGsxRQxYyQijILa94T9">https://www.youtube.com/playlist?list=PLcDkQ2Au8aVNYsqGsxRQxYyQijILa94T9</a></li>
                        <li><a href="https://www.linuxhowto.net/how-to-install-virtualbox-on-rhel-9-step-by-step/?ysclid=ln2gkjl488389400056">https://www.linuxhowto.net/how-to-install-virtualbox-on-rhel-9-step-by-step/?ysclid=ln2gkjl488389400056</a></li>
                        <li><a href="https://www.dmosk.ru/miniinstruktions.php?mini=virtualbox-install">https://www.dmosk.ru/miniinstruktions.php?mini=virtualbox-install</a></li>
                        <li><a href="https://devminz.github.io/posts/devops/virtualbox-cli-vm-bridged-networking/">https://devminz.github.io/posts/devops/virtualbox-cli-vm-bridged-networking/</a></li>
                        <li><a href="https://urn.su/dvps/virtualbox/vboxmanage/?ysclid=ln6wyljfpr336059458">https://urn.su/dvps/virtualbox/vboxmanage/?ysclid=ln6wyljfpr336059458</a></li>
                        <li><a href="https://urn.su/dvps/virtualbox/vboxmanage/man/?ysclid=ln6xc4orjl822339529">https://urn.su/dvps/virtualbox/vboxmanage/man/?ysclid=ln6xc4orjl822339529</a></li>
                        <li><a href="https://askubuntu.com/questions/161759/how-to-access-a-shared-folder-in-virtualbox">https://askubuntu.com/questions/161759/how-to-access-a-shared-folder-in-virtualbox</a></li>
                        <li><a href="https://superuser.com/questions/116946/how-do-i-press-ctrlaltdelete-in-virtualbox">https://superuser.com/questions/116946/how-do-i-press-ctrlaltdelete-in-virtualbox</a></li>
                        <li><a href="https://www.youtube.com/playlist?list=PL90TRL5CLgV68UQJZIWU_aoQhQGSXZJiS">https://www.youtube.com/playlist?list=PL90TRL5CLgV68UQJZIWU_aoQhQGSXZJiS</a></li>
                        <li><a href="https://obu4alka.ru/perenos-virtualnoj-mashiny-virtualbox-v-kvm.html">https://obu4alka.ru/perenos-virtualnoj-mashiny-virtualbox-v-kvm.html</a></li>
                        <li><a href="https://doc.s-terra.ru/rh_output/4.2/Virt_gate/output/mergedProjects/KVM/%D0%98%D0%BC%D0%BF%D0%BE%D1%80%D1%82_%D0%B2_KVM.htm">https://doc.s-terra.ru/rh_output/4.2/Virt_gate/output/mergedProjects/KVM/%D0%98%D0%BC%D0%BF%D0%BE%D1%80%D1%82_%D0%B2_KVM.htm</a></li>
                        </ul>
